import json
from sklearn.metrics import classification_report

# Example true labels and predicted labels (replace with your actual data)
y_true = [...]  # Your true labels list/array
y_pred = [...]  # Your predicted labels list/array

# Generate classification report as a dict
report_dict = classification_report(y_true, y_pred, output_dict=True)

# Optional: Round floats to 2 decimal places for readability
def round_floats(d):
    for k, v in d.items():
        if isinstance(v, dict):
            round_floats(v)
        elif isinstance(v, float):
            d[k] = round(v, 2)
round_floats(report_dict)

# Save to JSON file
with open("ml-metrics.json", "w") as f:
    json.dump(report_dict, f, indent=4)

print("âœ… Metrics JSON file 'ml-metrics.json' saved successfully.")

